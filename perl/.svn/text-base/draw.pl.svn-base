#!/usr/bin/perl -w
use strict; use Init; use Common; use Run; use Localdb; use Readfile; use Path::Class;
use Parser; use Gff; use GeneModel; use Mapping; use Draw; use Data::Dumper;
use List::Util qw/min max sum/; use POSIX qw/ceil floor/;
my $opts = {
    10 => {db=>'mt_35', opt=>'mRNA'},
    11 => {db=>'mt_35_gi', opt=>'match'},
    12 => {db=>'mt_35_gea', opt=>'match'},
    13 => {db=>'mt_35_defl', opt=>'match'},
    14 => {db=>'mt_35_crp_hit', opt=>'match'},
    15 => {db=>'mt_35_crp_jcvi', opt=>'mRNA'},
    16 => {db=>'mt_35_crp_model', opt=>'mRNA'},
    20 => {db=>'mt_30', opt=>'mRNA'}, 
    21 => {db=>'mt_gi', opt=>'match'},
    22 => {db=>'mt_gea', opt=>'match'},
    23 => {db=>'mt_defl', opt=>'match'},
};
my $ps = {
    01 => {tag=>"02_crp_hits", opts=>[qw/10 13 15 14/], optconf=>2},
    02 => {tag=>"11_crp_models", opts=>[qw/10 13 15 14 16/]},
    03 => {opts=>[qw/14/]},
};
my $p = $ps->{01};
$p->{opts} = [ map { $opts->{$_} } @{$p->{opts}} ];

drawFes(-param=>$p);
my $loc1 = locStr2Obj('7900000..8100000', 'chr4');
my $loc2 = locStr2Obj('13500001..13750000', 'chr2');
my $loc3 = locStr2Obj('22558001..22563500', 'chr6');
#drawRange(-loc=>$loc3, -out=>file($DIR_Out, "tmp3.png"), -ps=>$p->{opts});

my $dirW = dir($DIR_Misc2, "gbrowse_figs");
my $f02 = file($dirW, "02_location.txt");
#cmpModel1(-out=>$f02, -db=>$dbr1, -dbs=>[$dbr2, $dbr3]);
my $f11 = file($dirW, "11_models.txt");
#showModel(-out=>$f11, -db=>$opt->[1]->{db}, -opt=>$opt->[1]->{opt});


